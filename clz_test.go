package fpc

import "testing"

func TestCountLeadingZeroes(t *testing.T) {
	testcases := []struct {
		in   string
		want uint64
	}{
		{
			in:   "11111111 00000000 00000000 00000000  00000000 00000000 00000000 00000000",
			want: 0,
		},
		{
			in:   "00000000 00000000 00000000 00000000  00000000 00000000 00000000 11111111",
			want: 7,
		},
		{
			in:   "00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000001",
			want: 7,
		},
		{
			in:   "00000000 00000000 00000000 00000000  00000000 00000000 00000000 10000000",
			want: 7,
		},
		{
			in:   "00000001 00000000 00000000 00000000  00000000 00000000 00000000 00000000",
			want: 0,
		},
		{
			in:   "00000000 00000000 00000000 11111111  00000000 00000000 00000000 00000000",
			want: 3,
		},
		{
			in:   "11111111 00000000 00000000 00000000  00000000 00000000 00000000 10000000",
			want: 0,
		},
		{
			in:   "00000000 00000000 00000000 00000000  00000000 00000000 00000000 00000000",
			want: 8,
		},
	}
	for i, tc := range testcases {
		have := clzBytes(binstr2u64(tc.in))
		if have != tc.want {
			t.Errorf("clzBytes test=%d  have=%d  want=%d", i, have, tc.want)
		}
	}
}
